<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Job Number Form - Fixed Field</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f4f8;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .container {
    background: white;
    padding: 2rem 3rem;
    border-radius: 10px;
    box-shadow: 0 14px 28px rgba(50,50,93,.1), 0 10px 10px rgba(0,0,0,.07);
    width: 320px;
  }
  h1 {
    text-align: center;
    color: #0077ff;
  }
  label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: #333;
  }
  input[type="text"] {
    width: 100%;
    padding: 0.6rem;
    border-radius: 5px;
    border: 1px solid #ddd;
    font-size: 1rem;
    transition: border-color 0.3s ease;
  }
  input[type="text"]:focus {
    border-color: #0077ff;
    outline: none;
  }
  input[readonly] {
    background-color: #e9ecef;
    color: #6c757d;
    cursor: not-allowed;
  }
  button {
    margin-top: 1rem;
    width: 100%;
    padding: 0.7rem;
    background: #0077ff;
    border: none;
    color: white;
    font-weight: 700;
    font-size: 1rem;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background: #005fcc;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>Enter Job Number</h1>
    <form id="jobForm">
      <label for="jobNumber">Job Number:</label>
      <input type="text" id="jobNumber" name="jobNumber" placeholder="Enter job number" />
      <button type="submit">Submit</button>
    </form>
  </div>

  <script>
    // Function to manually get URL parameter 'job' for file:// URLs
    function getParam(name) {
      if (window.location.search && window.location.search.length > 1) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
      } else {
        const href = window.location.href;
        const queryIndex = href.indexOf('?');
        if (queryIndex === -1) return null;
        const queryString = href.substring(queryIndex + 1);
        const params = queryString.split('&');
        for (const param of params) {
          const [key, value] = param.split('=');
          if (key === name) return decodeURIComponent(value || '');
        }
        return null;
      }
    }

    window.addEventListener('DOMContentLoaded', () => {
      const jobParam = getParam('job');
      const jobInput = document.getElementById('jobNumber');
      if (jobParam) {
        jobInput.value = jobParam;
        jobInput.setAttribute('readonly', true);
      } else {
        // If no job param, keep input editable as normal
        jobInput.removeAttribute('readonly');
      }

      document.getElementById('jobForm').addEventListener('submit', function(e) {
        e.preventDefault();
        alert('Job number submitted: ' + this.jobNumber.value);
      });
    });
  </script>

  <!--
    Note:
    Due to browser security restrictions, query parameters may not be reliably accessible
    when opening local files (file:// protocol).
    For consistent results, serve this file via a local web server, e.g. run:
    python -m http.server
    and access via http://localhost:8000/qrcodes_as_ujrl_fixed.html?job=12546
  -->
</body>
</html>

